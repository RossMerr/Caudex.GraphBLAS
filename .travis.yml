language: go
sudo: false
go: 
  - 1.9
sudo: required
services:
  - docker
before_install:
  - go get github.com/mattn/goveralls
  - docker pull uber/go-torch
script:
  - $GOPATH/bin/goveralls -service=travis-ci
  - go test -bench=. -cpuprofile='cpu.prof' -memprofile='mem.prof'
after_script:
  - docker run uber/go-torch -s $HOME/gopath/src/github.com/RossMerr/Caudex.GraphBLAS/cpu.prof -p > torch.svg
branches:
  only:
  - master